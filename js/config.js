// ============================================================
// CONFIGURATION & CONSTANTS
// ============================================================
const CONFIG = {
    ROAD_HALF_WIDTH: 220,
    VIEW_DIST: 200,
    HORIZON_RATIO: 0.22,
    PLAYER_SPEED: 3,
    CAMERA_SPEED: 0.8,
    BULLET_SPEED: 10,
    ENEMY_SPEED: 0.2,
    ENEMY_LATERAL_SPEED: 0.15,
    SHOOT_INTERVAL: 120,
    SPAWN_DISTANCE: 500,
    GATE_DISTANCE: 300,
    ENEMY_HP: 3,
    PIXEL_SIZE: 2,
    CLOUD_COUNT: 8,
    VIGNETTE_STRENGTH: 0.4,
    WAVE_BANNER_DURATION: 120,
    COMBO_TIMEOUT: 2000,
};

const WEAPON_DEFS = {
    pistol:  { fireRateMult: 1.0,  duration: Infinity },
    shotgun: { fireRateMult: 2.0,  duration: 8  },
    laser:   { fireRateMult: 0.4,  duration: 6  },
    rocket:  { fireRateMult: 2.2,  duration: 7  },
};

const WEAPON_COLORS = {
    pistol:  0xffff88,
    shotgun: 0xff9900,
    laser:   0x00ffff,
    rocket:  0xff4444,
};

// Monster sprite sheet
const MONSTER_FRAME_COUNT = 4;
const MONSTER_FRAME_SIZE = 64;
const MONSTER_SPRITE_DATA = 'data:image/png;base64,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';

// Gate threshold: below this → multipliers, above → percentages
const PERCENT_GATE_THRESHOLD = 20;
